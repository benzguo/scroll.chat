<script>
  import { user } from "./user-store.js";
  import { fade, fly } from "svelte/transition";
  import { nav } from "./nav-store.js";
  import { flip } from "svelte/animate";
  import Page from "./Page.svelte";
  import Nav from "./Nav.svelte";
  import Input from "./Input.svelte";
</script>

<style>
  main {
    margin: auto 0;
  }

  form {
    padding: 2em;
  }

  label {
    padding: 1em;
    font-size: 14px;
  }

  footer {
    color: grey;
    margin: 4rem 0 1rem 0;
    font-size: 10px;
    text-align: center;
    line-height: 1.6;
  }

  span {
    color: red;
  }
</style>

<Page reverse>
  <Nav>Signin</Nav>

  <main>
    <form on:submit|preventDefault>
      <label id="name-label">ENTER YOUR NICKNAME</label>
      <Input
        on:submit={e => {
          if (!$user) return;
          $nav = 'messages';
        }}
        bind:value={$user}
        maxLength="50"
        placeholder="Steve Jobs"
        ariaLabelledBy="name-label" />
    </form>
  </main>

  <footer>v. {process.env.APP_VERSION} git {process.env.COMMIT_HASH}</footer>

</Page>
